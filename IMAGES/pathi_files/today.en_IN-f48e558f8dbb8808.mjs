(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[71317],{17314:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i,a,n=r(813653),o=r(861470),s=0,l=0;let d=function(e,t,r){var d=t&&r||0,c=t||Array(16),u=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){var _=e.random||(e.rng||n.Z)();null==u&&(u=i=[1|_[0],_[1],_[2],_[3],_[4],_[5]]),null==p&&(p=a=(_[6]<<8|_[7])&16383)}var m=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:l+1,f=m-s+(h-l)/1e4;if(f<0&&void 0===e.clockseq&&(p=p+1&16383),(f<0||m>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,l=h,a=p;var y=((0xfffffff&(m+=122192928e5))*1e4+h)%0x100000000;c[d++]=y>>>24&255,c[d++]=y>>>16&255,c[d++]=y>>>8&255,c[d++]=255&y;var g=m/0x100000000*1e4&0xfffffff;c[d++]=g>>>8&255,c[d++]=255&g,c[d++]=g>>>24&15|16,c[d++]=g>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var b=0;b<6;++b)c[d+b]=u[b];return t||(0,o.Z)(c)}},749740:(e,t,r)=>{"use strict";var i;r.r(t),r.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TodayTabStory",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"storySubTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null}],type:"Story",abstractKey:null};a.hash="5d51c6cf57293ac34aad35bb1b8f68a9";let n=a},216931:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepAuthDesktopPinRep_pin",selections:[{args:null,kind:"FragmentSpread",name:"PinRepWithImpressions_pin"}],type:"Pin",abstractKey:null};i.hash="000e24070b5df05da76d803775cb37e6";let a=i},515280:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuthParam"},{defaultValue:!0,kind:"LocalArgument",name:"isDesktopParam"},{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{args:[{kind:"Variable",name:"isAuthParam",variableName:"isAuthParam"},{kind:"Variable",name:"isDesktopParam",variableName:"isDesktopParam"},{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};i.hash="356ca54371ec491fc7d18426f65e52da";let a=i},84267:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepAuthDesktopPinRep_pin"}],type:"Pin",abstractKey:null};i.hash="7982b415980bdf92f7b9338cb5f6c539";let a=i},878069:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuthParam"},{defaultValue:null,kind:"LocalArgument",name:"isDesktopParam"},{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"isAuthParam",variableName:"isAuthParam"},{kind:"Variable",name:"isDesktopParam",variableName:"isDesktopParam"},{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};i.hash="4aa0fcbb6f51c668491562f4002cd66f";let a=i},718075:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(667294),a=r(297728),n=r(415787),o=r(785893);let s=console,l=({id:e,children:t})=>{let r=(0,a.F)(),l=(0,i.useRef)(!1),d=(0,i.useRef)({renderCount:0,renderTime:{mount:0,slowestUpdate:0,average:0},totalRenderTime:0}),c=(0,i.useRef)(r.checkExperiment("perf_profiler_logs").anyEnabled);return(0,i.useEffect)(()=>()=>{l.current&&(c.current&&s.info(`ProfilerWithStats - ${e}`,d.current),(0,n.LY)("webapp.renderStats.mount",d.current.renderTime.mount,{sampleRate:.1,tags:{id:e}}),(0,n.LY)("webapp.renderStats.slowest",d.current.renderTime.slowestUpdate,{sampleRate:.1,tags:{id:e}}),(0,n.LY)("webapp.renderStats.average",d.current.renderTime.average,{sampleRate:.1,tags:{id:e}}),(0,n.S0)("webapp.renderStats.count",d.current.renderCount,{tags:{id:e}}))},[d,e]),(0,o.jsx)(i.Profiler,{id:`ProfilerWithStats-${e}`,onRender:(e,t,r)=>{l.current=!0,d.current.renderCount+=1,d.current.totalRenderTime+=r,d.current.renderTime.average=d.current.totalRenderTime/d.current.renderCount,"mount"===t?(d.current.renderTime.mount=r,d.current.renderTime.slowestUpdate=r):d.current.renderTime.slowestUpdate<r&&(d.current.renderTime.slowestUpdate=r)},children:t})}},640498:(e,t,r)=>{"use strict";r.d(t,{LG:()=>i,UO:()=>a,ZB:()=>n,ZP:()=>o});let i=100,a=10,n=28,o={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},136061:(e,t,r)=>{"use strict";r.d(t,{Hv:()=>l,aX:()=>u,nK:()=>p});var i=r(667294),a=r(616550),n=r(498490),o=r(785893);let{Provider:s,useHook:l}=(0,n.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,t){let r={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&d(e.forward[0].location)===d(r.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:r};default:return e}}function u(){let{current:e,previous:t}=l();return(0,i.useMemo)(()=>e?t.concat(e):t,[e,t])}function p({children:e}){let t=(0,a.k6)(),r=(0,a.TH)(),n=(0,a.$B)(),l={forward:[],current:{action:t.action,location:r,match:n},previous:[]},[d,u]=(0,i.useReducer)(c,l),p=(0,i.useRef)(r);if(p.current!==r){let{action:e}=t;u({type:e,location:r,match:n}),p.current=r}return(0,o.jsx)(s,{value:d,children:e})}},656817:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(667294);function a(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function n(){return window.innerWidth}function o(){return window.innerHeight}function s(){return null}function l(){let e=(0,i.useSyncExternalStore)(a,o,s),t=(0,i.useSyncExternalStore)(a,n,s);return null!==e&&null!==t?{height:e,width:t}:null}},978993:(e,t,r)=>{"use strict";r.d(t,{L_:()=>a,Nh:()=>n,qn:()=>i});let i=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(e){return window.console.error("Cannot access sessionStorage."),t}},a=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(e){window.console.error("Cannot access sessionStorage.")}},n=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(e){window.console.error("Cannot access sessionStorage.")}}},499671:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var i=r(667294),a=r(883119),n=r(136061),o=r(766546),s=r(730212),l=r(655201),d=r(616949),c=r(158776),u=r(603667),p=r(66560),_=r(785893);function m(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h extends i.Component{constructor(e){super(e),m(this,"componentWillUnmount",()=>{this.unregisterComponent()}),m(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:r,objectId:i,timeSpentContext:a,view:n,viewParameter:o}=this.props;return{view:n||a?.view,viewParameter:o||a?.viewParameter,component:t||a?.component,element:r,objectId:i||a?.objectId,clientTrackingParams:e||a?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),m(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),m(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),m(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),m(this,"getTimedPair",()=>this.state.timedPair),m(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),m(this,"isRegistered",!1),m(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),m(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),m(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:r,left:i,right:a,top:n}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===r&&0===i&&0===a&&0===n?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new d.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,l.Z)(e.auxData,this.props.auxData)&&(0,l.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverBoxHeight:t}=this.props;return(0,_.jsx)(c.$,{value:this.getContext(),children:(0,_.jsx)(o.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:r=>(0,_.jsx)(a.xu,{ref:r,height:t??"100%",children:i.Children.only(e)})})})}}function f(e){let t=(0,n.Hv)(),r=(0,c.Z)(),a=(0,u.Z)(),o=(0,p.H0)(),{requestIdentifier:l=""}=(0,s.B)(),d={app_instance_id:l.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{a?.setHistoryStackContext(t)},[t,a]),(0,i.useEffect)(()=>{a?.setPins(o??{})},[o,a]),a?(0,_.jsx)(h,{...e,auxData:d,timeSpentContext:r,timeSpentManager:a,children:e.children}):e.children}f.displayName="DeprecatedTimeSpent";let y=f},158776:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,Z:()=>a});let{Provider:i,useMaybeHook:a}=(0,r(498490).Z)("timeSpentContext")},616949:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s,h:()=>o});var i=r(172045),a=r(17314);function n(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let o="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),s=class{constructor(e){n(this,"start",()=>(this.startTime=o(),this.startTime)),n(this,"end",()=>(this.endTime=o(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,i.Z)()}catch(e){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},335452:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(730212),a=r(993400),n=r(383399);function o(){let e=(0,i.B)(),t=(0,n.Z)(),r=t.isAuth?t.country:e.country;if(void 0===e||void 0===e.locale)return!1;let o=e.locale.substring(0,2);return!!a.Z[o]?.includes(r)}},790661:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(976534);let a=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,i.Z)(t[1])}return(0,i.Z)()}},732988:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(883119),a=r(785893);function n({text:e}){return(0,a.jsx)(i.xu,{display:"visuallyHidden",children:(0,a.jsx)(i.X6,{accessibilityLevel:1,children:e})})}},24472:(e,t,r)=>{"use strict";r.d(t,{C:()=>a,e:()=>i});let i=0,a=new Set(["/","/today"])},682661:(e,t,r)=>{"use strict";r.d(t,{BK:()=>h,Tw:()=>f,ZP:()=>P,rX:()=>j}),r(167912);var i,a,n,o,s=r(718075),l=r(384609),d=r(297728),c=r(410150),u=r(383399),p=r(66560),_=r(179735),m=r(785893);let h=(0,_.Z)(()=>Promise.all([r.e(97270),r.e(30360),r.e(4902),r.e(2984)]).then(r.bind(r,279985)),void 0,"AuthDesktopPinRep"),f=(0,_.Z)(()=>Promise.all([r.e(97270),r.e(39921)]).then(r.bind(r,106088)),void 0,"DefaultPinRep"),y=void 0!==i?i:i=r(878069),g=void 0!==a?a:a=r(84267),b=void 0!==n?n:n=r(216931),v=e=>{let{pinKey:t,...r}=e,i=(0,l.Z)(b,t);return(0,m.jsx)(s.Z,{id:"AuthDesktopPinRepWithImpressions",children:(0,m.jsx)(h,{...r,pinKey:i})})},x=e=>{let{pinId:t,...r}=e,i=(0,p.S6)(),a=t?i(t):null,n=a?.tracking_params;return a&&(0,m.jsx)(s.Z,{id:"AuthDesktopPinRepDeprecated",children:(0,m.jsx)(h,{...r,pinKey:{type:"deprecated",data:a},trackingParams:n})})},w=void 0!==o?o:o=r(515280),T=e=>{let{pinKey:t,...r}=e,i=(0,l.Z)(w,e.pinKey);return(0,m.jsx)(s.Z,{id:"DefaultPinRep",children:(0,m.jsx)(f,{...r,duploQueryRef:i})})};function P(e){let t=(0,c.HG)(),r=(0,u.Z)(),i=r&&r.isAuth&&t,a=(0,l.Z)(y,e.duploQueryRef),{checkExperiment:n}=(0,d.F)();if(!(!i||e.duploQueryRef||n("web_auth_desktop_default_pin_rep").anyEnabled)){let{disableAppUpsell:t,duploDedupeVisualAnnotations:r,duploDisablePinCardPadding:i,duploFeedItemProps:a,duploIsSquarePin:n,duploLazyLoadImage:o,duploOneTapSave:s,duploPinCardDetailsMargin:l,duploPriorityFetchImage:d,duploQueryRef:c,duploShouldAddNiiSearchParamToImageUrls:u,duploShouldAllowProductPriceIndicator:p,duploConversationPin:_,topLevelTrafficSource:h,topLevelTrafficSourceDepth:f,trafficSource:y,...g}=e;return(0,m.jsx)(x,{...g})}let{duploQueryRef:o,...s}=e;return(0,m.jsx)(T,{...s,pinKey:a})}function j(e){let t=(0,c.HG)(),r=(0,u.Z)(),i=r&&r.isAuth&&t,a=(0,l.Z)(y,e.duploQueryRef),n=(0,l.Z)(g,e.pinKey);if(i&&null!=n&&null!=e.pinKey){let{disableAppUpsell:t,duploDedupeVisualAnnotations:r,duploDisablePinCardPadding:i,duploFeedItemProps:a,duploIsSquarePin:o,duploLazyLoadImage:s,duploOneTapSave:l,duploPinCardDetailsMargin:d,duploPriorityFetchImage:c,duploQueryRef:u,duploShouldAddNiiSearchParamToImageUrls:p,duploShouldAllowProductPriceIndicator:_,duploConversationPin:h,topLevelTrafficSource:f,topLevelTrafficSourceDepth:y,trafficSource:g,pinKey:b,...x}=e,{pinId:w,...T}=x;return(0,m.jsx)(v,{...T,pinKey:n})}let{duploQueryRef:o,...s}=e;return(0,m.jsx)(T,{...s,pinKey:a})}},845873:(e,t,r)=>{"use strict";r.d(t,{bn:()=>s,fJ:()=>d,gC:()=>l});var i=r(545007),a=r(498490),n=r(785893);let{Provider:o,useHook:s}=(0,a.Z)("Boards");function l(){let e=s();return t=>e[t]}function d({children:e}){let t=(0,i.v9)(({boards:e})=>e,i.wU);return(0,n.jsx)(o,{value:t,children:e})}},55463:(e,t,r)=>{"use strict";r.d(t,{f:()=>s,w:()=>l});var i=r(667294),a=r(498490),n=r(785893);let{Provider:o,useHook:s}=(0,a.Z)("Session");function l({children:e}){let[t,r]=(0,i.useState)(void 0),a=(0,i.useCallback)(()=>r(void 0),[]),s=(0,i.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:r,removeUnauthFollowUserId:a}),[t,a]);return(0,n.jsx)(o,{value:s,children:e})}},127566:(e,t,r)=>{"use strict";function i(e,t){return e&&e.includes("~0")&&(e=e.replace("~0","")),e||`${t||""}~0`}r.d(t,{Z:()=>i})},599911:(e,t,r)=>{"use strict";function i(e,t,r,a=!1,n){return{privacy_filter:t?"secret":"public",sort:r||"last_pinned_to",field_set_key:"profile_grid_item",username:e,isRetrievalHub:a,filter_types:n}}r.d(t,{Z:()=>i})},35486:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=(e,t)=>`${e}:${t||""}`},831355:(e,t,r)=>{"use strict";r.d(t,{O:()=>s,Q:()=>l});var i=r(338623),a=r(35486),n=r(701842);let o=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:r,username:i,privacyFilter:a="all",filterAllPins:n=!1,filterShoppingList:o=!1,includeArchived:s=!0},l)=>({privacy_filter:a,sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:r?"mix_public_private":"visibility",include_archived:s,redux_normalize_feed:!0,filter_all_pins:n,filter_shopping_list:o,...l?{orbac_subject_id:l}:Object.freeze({})})},l=e=>o.reduce((t,r)=>{let o=[(0,n.N8)("profileBoards",(0,a.Z)(e,r))];return[!0,!1].forEach(t=>{[!0,!1].forEach(a=>{o.push((0,i.jB)(s.name,s.options({username:e,boardOrder:r,mixPublicSecret:t,filterStories:a})))})}),t.concat(o)},[])},119437:(e,t,r)=>{"use strict";r.d(t,{Br:()=>c,Cr:()=>y,K8:()=>m,L1:()=>A,YQ:()=>j,ZP:()=>g,aX:()=>b,eo:()=>p,md:()=>u,oG:()=>_,oL:()=>v,of:()=>h,xQ:()=>f,xR:()=>P,yT:()=>d});var i=r(252071),a=r(640498),n=r(468808),o=r(338623),s=r(599911),l=r(831355);function d(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function c(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function u(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function p({viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:i}}}let _=(e,t)=>r=>r((0,n.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function m(e){return t=>{e&&(0,l.Q)(e).forEach(e=>{t(e)})}}let h=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),f=e=>_(e,"pin_count"),y=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),g=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function b(e,t,r){let n={name:e,privacy:a.ZP.BoardPrivacy.PUBLIC,username:t,...r?{orbac_subject_id:r}:Object.freeze({})};return e=>i.Z.create("BoardResource",n).callCreate().then(r=>{let i=r.resource_response.data;return e(t&&(0,o.jB)("BoardsResource",(0,s.Z)(t,!1))),i})}function v(e={},t,r){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:r}}let x=(e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),w=(e,t,r)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:r}}),T=(e,t,r,i)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:r,collaboratingUsers:i}}),P=(e,t,r)=>async a=>{a(x(e,t));let n=await i.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();return n.resource_response.error||r({event_type:29,object_id_str:e}),n},j=(e,t,r,a,n,o)=>async s=>{s(w(e,a?.id??"",r));try{(await i.Z.create("accepted"===t?"BoardCollaboratorResource":"BoardInviteResource",{board_id:e,field_set_key:"boardEdit",invited_user_id:a?.id??"",...o?{orbac_subject_id:o}:{}}).callDelete()).resource_response.error||n({event_type:"accepted"===t?25:29,object_id_str:e})}catch(i){s(T(e,r,t,[a]))}},A=(e,t,r,a)=>n=>{let o=i.Z.create("BoardResource",{board_id:r}).callDelete();return n(p({viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:a})),o}},701842:(e,t,r)=>{"use strict";function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}r.d(t,{EX:()=>o,N8:()=>a,Qv:()=>n,_f:()=>i,vX:()=>s});let n=(e,t,r=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:r,items:t}});function o(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},527155:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var i=r(616550),a=r(883119),n=r(488792),o=r(144326),s=r(282999),l=r(730212),d=r(1006),c=r(154785),u=r(785893);let p={DEFAULT:-1,IDEAS_HUB:0,SHOP_HUB:1};function _(){let e=(0,o.ZP)(),t=(0,i.TH)(),r=(0,i.k6)(),{isBot:_,userAgent:{isTablet:m},country:h,locale:f}=(0,l.B)(),y=(0,n.Z)(),g=(0,c.Z)();if(m)return null;let b=e=>{let{loggingData:t}=e;y({view_type:t.viewType,view_parameter:3372,event_type:101,component:13184,element:t.element}),(0,d.NC)(t.history),"click_nav_explore"===t.history&&g({action:"click",item:"ideas-tab-explore"})},v=()=>_||f.startsWith("en")&&"US"===h,x=(e,t)=>e?{pathname:(e[t]||e[0]).href,state:(e[t]||e[0]).locationState||void 0}:{},w=(0,s.gT)(t);return(0,u.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(()=>{let i=v(),n=p.DEFAULT;w&&(n=p.IDEAS_HUB),(0,s.f1)(t)&&(n=p.SHOP_HUB);let o=[];return o.push({href:"/ideas/",text:"JP"===h?e.bt("Explore ideas", "Explore ideas", "unauth.header.tabs.ideas.jp", undefined, true):e.bt("Explore", "Explore", "unauth.header.tabs.ideas", undefined, true),loggingData:{element:10610,viewType:442,history:"click_nav_explore"}}),i&&o.push({href:"/shopping/",text:e.bt("Shop", "Shop", "unauth.header.tabs.shop", undefined, true),loggingData:{element:10610,viewType:601,history:"click_nav_shop"}}),(0,u.jsx)(a.xu,{marginBottom:1,marginTop:1,children:(0,u.jsx)(a.xu,{"data-test-id":"ideas-tab",children:(0,u.jsx)(a.mQ,{activeTabIndex:n,onChange:({activeTabIndex:e})=>{let t=o[e];t&&b(t);let{pathname:i,state:a}=x(o,e);r.push(i??"",a)},tabs:o.map(({href:e,text:t})=>({href:e,text:t}))})})})})()})}},244060:(e,t,r)=>{"use strict";r.d(t,{Z:()=>$});var i,a,n,o=r(667294),s=r(730212),l=r(410150),d=r(376574),c=r(883119),u=r(775383),p=r(545007),_=r(167912),m=r(986782),h=r(144326),f=r(235838),y=r(499671),g=r(132993),b=r(383399),v=r(891880),x=r(589371),w=r(834869),T=r(785893);let P=({isDesktop:e,title:t})=>e?(0,T.jsx)(c.X6,{accessibilityLevel:2,align:"center",size:"400",children:t}):(0,T.jsx)(c.xv,{align:"center",children:t}),j=({marginTop:e,subtitle:t,title:r})=>{let i=Math.trunc((e||0)/4),a=(0,l.HG)();return(0,T.jsxs)(c.xu,{"data-test-id":"today-tab-header",marginTop:i,paddingX:9,children:[t?(0,T.jsx)(c.xu,{"data-test-id":"today-tab-header-date",children:(0,T.jsx)(P,{isDesktop:a,title:r})}):(0,T.jsx)(c.xu,{"data-test-id":"today-tab-header-date",children:(0,T.jsx)(c.X6,{accessibilityLevel:1,align:"center",size:a?"500":"400",children:r})}),t&&(0,T.jsx)(c.xu,{"data-test-id":"today-tab-header-subtitle",marginTop:1,children:(0,T.jsx)(c.X6,{accessibilityLevel:1,align:"center",size:a?"600":"500",children:t})})]})};var A=r(616550),E=r(573706),D=r(961754),S=r(831595),R=r(87416),k=r(533113);function C(){let{logContextEvent:e}=(0,E.v)(),{data:t}=(0,D.Z)({name:"SearchTabResource"}),{moduleWidth:r}=(0,g.ZP)(),i=t?.filter(e=>"shopping_spotlight"===e.story_type),a=(0,o.useCallback)((t,i)=>{let{boardPinCount:a,contentIds:n,gridIndex:o,id:s,imageUrls:l,storyId:d,subtitle:u,title:p,type:_,url:m}=i,h="todayarticle"===_?{autocomplete_type:"recommended_article",grid_index:o,story_id:d,story_type:"shopping_spotlight",today_article_id:s}:{board_id:s,board_index:o,board_pin_count:a??0,content_ids:n,grid_index:o,story_id:d,story_index:"",story_type:"shopping_spotlight"};return(0,T.jsx)(c.xu,{ref:t,"data-test-id":"shopping-spotlight-article",paddingX:2,paddingY:2,children:(0,T.jsx)(c.Tg,{href:m,onTap:()=>{e({event_type:102,view_type:2,view_parameter:3467,component:200,aux_data:{...h}})},children:(0,T.jsx)(c.xu,{width:r,children:(0,T.jsx)(k.Z,{headerAccessibilityLevel:3,imageUrls:l,subtitle:u??"",subtitleSize:"300",title:p??"",titleSize:"500"})})})})},[r,e]);if(!i||!i[0])return null;let{title:n,items:s,story_type:l,id:d}=i[0],u=s.map(({type:e,id:t})=>`${e??""}:${t??""}`).join("|");return(0,T.jsxs)(c.kC,{direction:"column",gap:6,children:[(0,T.jsx)(c.X6,{accessibilityLevel:2,align:"center","data-test-id":"shopping-spotlight-header",overflow:"normal",size:"400",children:n.format}),(0,T.jsx)(c.xu,{display:"flex",justifyContent:"center",marginEnd:-2,marginStart:-2,wrap:!0,children:s.map((e,t)=>{let r="todayarticle"===e.type?e:null,i="board"===e.type?e:null,n=r?(0,S.T7)(r.feed_source??0,r.is_product_pin_feed??!1,r.title,r.id):i?.url;if(!n)return null;let o=[i?.image_cover_hd_url].filter(Boolean),s={contentIds:u,boardPinCount:i?.pin_count,gridIndex:t,feedSource:r?.feed_source,id:e.id,imageUrls:r?.image_urls||o,storyId:d,subtitle:r?.subtitle||i?.featured_board_metadata?.board_subtitle,title:r?.title||i?.name,type:r?.type||i?.type||"",url:n},c={board_id:i?.id,board_index:t,board_pin_count:i?.pin_count,content_ids:u,grid_index:t,story_id:d,story_index:"",story_type:l},p={grid_index:t,story_id:d,story_type:l,today_article_id:r?.id},_={loggingId:e.id,objectIdStr:e.id,slotIndex:t,viewParameter:3467,viewType:2};return"board"===e.type?(0,T.jsx)(R.u,{..._,auxData:c,children:({impressionTrackerRef:e})=>a(e,s)},e.id):(0,T.jsx)(R.Y4,{..._,auxData:p,children:({impressionTrackerRef:e})=>a(e,s)},s.id)})})]})}let Z=(e,t)=>{t({event_type:101,view_type:1,view_parameter:3372,component:8,element:11689}),e.push("/homefeed/")};function L({showHomefeedButton:e}){let{logContextEvent:t}=(0,E.v)(),r=(0,h.ZP)(),i=(0,A.k6)();return(0,T.jsxs)(c.kC,{alignItems:"center",direction:"column",children:[(0,T.jsx)(c.xu,{marginTop:10,children:(0,T.jsx)(C,{})}),(0,T.jsx)(c.xu,{"data-test-id":"today-tab-end-icon",marginTop:12,children:(0,T.jsx)(c.JO,{accessibilityLabel:r.bt("End of Today tab feed", "End of Today tab feed", "TodayTab.TodayTabFeed.icon.accessibilityLabel", undefined, true),color:"default",icon:"check-circle",size:30})}),(0,T.jsx)(c.xu,{"data-test-id":"today-tab-end-subtitle",marginTop:4,children:(0,T.jsx)(c.xv,{align:"center",size:"300",children:r.bt("That's all for today!", "That's all for today!", "TodayTab.TodayTabFeed.endFeed.subtitle", undefined, true)})}),(0,T.jsx)(c.xu,{"data-test-id":"today-tab-end-title",marginTop:1,children:(0,T.jsx)(c.X6,{align:"center",overflow:"normal",size:"400",children:r.bt("Come back tomorrow for more inspiration", "Come back tomorrow for more inspiration", "TodayTab.TodayTabFeed.endFeed.title", undefined, true)})}),e&&(0,T.jsx)(c.xu,{"data-test-id":"today-tab-end-button",marginBottom:10,marginTop:10,children:(0,T.jsx)(c.zx,{onClick:()=>Z(i,t),text:r.bt("Go to home feed", "Go to home feed", "TodayTab.TodayTabFeed.endFeed.backToHomeButton.label", undefined, true)})})]})}var O=r(179735);let B=(0,O.Z)(()=>r.e(88587).then(r.bind(r,362999)),void 0,"app-www-todayTab-duplo-TodayTabFooter"),I=({storyType:e,formattedSubtitle:t="",formattedTitle:r,isFirstItem:i})=>{let a=(0,l.HG)(),{isAuthenticated:n}=(0,s.B)();switch(e){case"today_tab_date_header":case"today_tab_header":return(0,T.jsx)(j,{marginTop:a||i?0:24,subtitle:t,title:r});case"today_tab_footer":return n&&a?(0,T.jsx)(L,{showHomefeedButton:n}):(0,T.jsx)(B,{marginBottom:28,marginTop:28,subtitle:t,title:r});default:return null}},F=void 0!==i?i:i=r(749740);function U({itemIndex:e,containerKey:t}){let{storyType:r,storySubTitle:i,storyTitle:a}=(0,_.useFragment)(F,t);return(0,T.jsx)(I,{formattedSubtitle:i?.format??"",formattedTitle:a?.format??"",isFirstItem:0===e,storyType:r??""})}let z=(0,O.Z)(()=>r.e(13833).then(r.bind(r,233258)),void 0,"app-www-todayTab-header-ProModeTodayMoreIdeasNav"),H=void 0!==a?a:a=r(558621),N=void 0!==n?n:n=r(922877);function M({data:e,itemIdx:t}){let r=(0,l.ml)(),i=(0,l.Wb)(),a=0===t,n=i?356:"auto";return(0,T.jsxs)(o.Fragment,{children:["Story"===e.__typename&&(0,T.jsx)(c.xu,{marginBottom:r?0:a?8:0,paddingX:2,paddingY:r?2:a?0:8,width:"100%",children:(0,T.jsx)(U,{containerKey:e,itemIndex:t})}),"TodayArticle"===e.__typename&&(0,T.jsx)(c.xu,{"data-test-id":"today-tab-article",marginBottom:r?2:0,maxWidth:r?void 0:n,paddingX:r?3:2,paddingY:2,width:r||i?"100%":"auto",children:(0,T.jsx)(w.i,{containerKey:e,gridIndex:t,headerAccessibilityLevel:2,viewParameter:3372,viewType:1})}),"Board"===e.__typename&&(0,T.jsx)(c.xu,{"data-test-id":"today-tab-board",marginBottom:r?2:0,maxWidth:r?void 0:n,paddingX:r?3:2,paddingY:2,width:r||i?"100%":"auto",children:(0,T.jsx)(x.Z,{containerKey:e,gridIndex:t,headerAccessibilityLevel:2,viewParameter:3372,viewType:1})})]})}function V(){let e=(0,h.ZP)(),t=(0,l.HG)(),{isAuthenticated:r}=(0,s.B)(),i=(0,_.useLazyLoadQuery)(H,{}),{feedWidth:a}=(0,g.ZP)(),{data:n,isLoadingNext:o,loadNext:d,hasNext:u}=(0,_.usePaginationFragment)(N,i),m=n.v3RecommendedTodayArticlesQuery?.__typename==="V3RecommendedTodayArticles"?n.v3RecommendedTodayArticlesQuery?.data:null,y=m?.__typename==="V3RecommendedTodayArticlesDataConnectionContainer"?m.connection:null,b=y?.edges?.map(e=>e?.node)??[],v=(0,p.v9)(({feeds:e})=>e["todayTabFeed:todayTab"]||[]),x=(0,p.v9)(({feeds:e})=>e["today-tab"])||[];return(0,T.jsxs)(c.xu,{"data-test-id":"today-tab-feed",paddingY:8,children:[((t&&r?v:x).length>0||b.length>0)&&(0,T.jsx)(c.xu,{margin:"auto",width:`min(${a}px, 90%)`,children:(0,T.jsxs)(c.xu,{display:"flex",justifyContent:"center",marginEnd:-2,marginStart:-2,wrap:!0,children:[b.map((e,t)=>e&&(0,T.jsx)(M,{data:e,itemIdx:t},e.__id)),(0,T.jsx)(c.gr,{fetchMore:(0,f.Z)(()=>{u&&d(50)},100),isAtEnd:!u,isFetching:o})]})}),o&&(0,T.jsx)(c.xu,{column:12,paddingY:2,children:(0,T.jsx)(c.$j,{accessibilityLabel:e.bt("Loading feed", "Loading feed", "today_tab.loading", undefined, true),show:!0})})]})}function K({children:e}){let t=(0,l.HG)(),{isAuthenticated:r}=(0,s.B)(),i=(0,b.Z)();return r&&t?(0,T.jsxs)(c.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:12,width:"100%",children:[i.isPartner?(0,T.jsx)(z,{}):null,e]}):(0,T.jsx)(o.Fragment,{children:e})}function X(){let e=(0,h.ZP)();return(0,T.jsx)(v.Z,{viewParameter:3372,viewType:1,children:(0,T.jsx)(y.Z,{view:1,viewParameter:3372,children:(0,T.jsx)(K,{children:(0,T.jsx)(m.Z,{name:"SafeSuspense_TodayTab",children:(0,T.jsx)(o.Suspense,{fallback:(0,T.jsxs)(c.xu,{padding:5,children:[(0,T.jsx)(c.xu,{paddingY:8,children:(0,T.jsx)(c.X6,{align:"center",overflow:"normal",size:"500",children:e.bt("Loading today's picks...", "Loading today's picks...", "TodayTab.TodayTabFeed.loadingMessage", undefined, true)})}),(0,T.jsx)(c.$j,{accessibilityLabel:e.bt("Loading", "Loading", "Label for loading spinner", undefined, true),show:!0})]}),children:(0,T.jsx)(V,{})})})})})})}var G=r(527155);function W(){let e=(0,l.ml)();return(0,T.jsxs)(u.default,{hasGutter:!0,children:[e&&(0,T.jsx)(c.xu,{marginTop:1,children:(0,T.jsx)(G.Z,{})}),(0,T.jsx)(X,{})]})}var Y=r(335452);function Q(){let e=(0,Y.Z)(),t=(0,A.k6)();return e?(0,T.jsx)(X,{}):(t.replace("/"),null)}let $=function(){let e=(0,l.HG)(),{isAuthenticated:t}=(0,s.B)();return t?e?(0,T.jsx)(Q,{}):(0,T.jsx)(d.Z,{}):(0,T.jsx)(W,{})}},677559:(e,t,r)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/today",function(){return r(244060).Z}])}},e=>{var t=t=>e(e.s=t);e.O(0,[97270,83119,15787,82527,76594,20993,89820,4014,26423,86132,168,46613,53072,88027,53612,12498,32859,81507,50527,99599,24264,4517],()=>t(677559)),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/today.en_IN-f48e558f8dbb8808.mjs.map